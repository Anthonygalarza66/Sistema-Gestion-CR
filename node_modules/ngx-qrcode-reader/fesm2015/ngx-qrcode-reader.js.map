{"version":3,"file":"ngx-qrcode-reader.js","sources":["../../../projects/ngx-qrcode-reader/src/lib/ngx-qrcode-reader.service.ts","../../../projects/ngx-qrcode-reader/src/lib/ngx-qrcode-reader.component.ts","../../../projects/ngx-qrcode-reader/src/lib/ngx-qrcode-reader.module.ts","../../../projects/ngx-qrcode-reader/src/public-api.ts","../../../projects/ngx-qrcode-reader/src/ngx-qrcode-reader.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxQrcodeReaderService {\n\n  constructor() { }\n}\n","import { Component, Input, Output ,EventEmitter , OnChanges,OnInit, ViewChild, Renderer2, ElementRef } from '@angular/core';\n\n\ndeclare var require: any;\n\nvar QrCode = require('qrcode-reader').default;\n\n@Component({\n  selector: 'ngx-qrcode-reader',\n  template: `<div #qrCodeElement [class]=\"cssClass\"></div>`,\n  styles: []\n})\nexport class NgxQrcodeReaderComponent implements OnChanges , OnInit {\n\n  @Input('qrClass') cssClass = 'qrcode-reader'; \n  @Input(\"showQr\") showQRCode = true;\n  @Input('qrFile') fileValue ='';\n  \n  @ViewChild('qrCodeElement', { static: true })\n  qrCodeElement!: ElementRef;\n\n  @Output('onfetchQRContent') qrContentResult  = new EventEmitter();\n\n  qrReader: any;\n\n  constructor(private renderer: Renderer2) { \n        this.qrReader = new QrCode();\n  }\n\n  ngOnInit(){\n    let that = this;\n    this.qrReader.callback = (error: any, result: any) => {\n      if(error) {\n        that.qrContentResult.emit({error : error });\n        console.error(error);\n        return;\n      }\n      that.qrContentResult.emit({content : result.result , type : \"text\"  });\n    } \n  }\n\n  ngOnChanges() {\n    this.decode(this.fileValue);\n    if(this.showQRCode) {\n      this.render();\n    }\n  }\n\n\n  decode(value: any){\n    this.qrReader.decode(value);    \n  }\n\n  render(){\n    let element : Element ;\n    element = this.renderer.createElement('img');\n    element.setAttribute(\"src\",this.fileValue);\n    this.renderElement(element);\n  }\n  \n  renderElement(element: any){\n    for (let node of this.qrCodeElement.nativeElement.childNodes) {\n      this.renderer.removeChild(this.qrCodeElement.nativeElement, node);\n    }            \n    this.renderer.appendChild(this.qrCodeElement.nativeElement, element);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxQrcodeReaderComponent } from './ngx-qrcode-reader.component';\n\n\n\n@NgModule({\n  declarations: [\n    NgxQrcodeReaderComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    NgxQrcodeReaderComponent\n  ]\n})\nexport class NgxQrcodeReaderModule { }\n","/*\n * Public API Surface of ngx-qrcode-reader\n */\n\nexport * from './lib/ngx-qrcode-reader.service';\nexport * from './lib/ngx-qrcode-reader.component';\nexport * from './lib/ngx-qrcode-reader.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;MAKa,sBAAsB;IAEjC,iBAAiB;;;;YALlB,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;ACCD,IAAI,MAAM,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC;MAOjC,wBAAwB;IAanC,YAAoB,QAAmB;QAAnB,aAAQ,GAAR,QAAQ,CAAW;QAXrB,aAAQ,GAAG,eAAe,CAAC;QAC5B,eAAU,GAAG,IAAI,CAAC;QAClB,cAAS,GAAE,EAAE,CAAC;QAKH,oBAAe,GAAI,IAAI,YAAY,EAAE,CAAC;QAK5D,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,EAAE,CAAC;KAClC;IAED,QAAQ;QACN,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,KAAU,EAAE,MAAW;YAC/C,IAAG,KAAK,EAAE;gBACR,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAC,KAAK,EAAG,KAAK,EAAE,CAAC,CAAC;gBAC5C,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACrB,OAAO;aACR;YACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAC,OAAO,EAAG,MAAM,CAAC,MAAM,EAAG,IAAI,EAAG,MAAM,EAAG,CAAC,CAAC;SACxE,CAAA;KACF;IAED,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,IAAG,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;KACF;IAGD,MAAM,CAAC,KAAU;QACf,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KAC7B;IAED,MAAM;QACJ,IAAI,OAAiB,CAAE;QACvB,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,OAAO,CAAC,YAAY,CAAC,KAAK,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;KAC7B;IAED,aAAa,CAAC,OAAY;QACxB,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,UAAU,EAAE;YAC5D,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;SACnE;QACD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;KACtE;;;YA1DF,SAAS,SAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,QAAQ,EAAE,+CAA+C;aAE1D;;;YAX8E,SAAS;;;uBAcrF,KAAK,SAAC,SAAS;yBACf,KAAK,SAAC,QAAQ;wBACd,KAAK,SAAC,QAAQ;4BAEd,SAAS,SAAC,eAAe,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;8BAG3C,MAAM,SAAC,kBAAkB;;;MCNf,qBAAqB;;;YAVjC,QAAQ,SAAC;gBACR,YAAY,EAAE;oBACZ,wBAAwB;iBACzB;gBACD,OAAO,EAAE,EACR;gBACD,OAAO,EAAE;oBACP,wBAAwB;iBACzB;aACF;;;ACdD;;;;ACAA;;;;;;"}